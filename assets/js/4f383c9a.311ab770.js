"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[400],{3941:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"sdks/wallet/javascript/client","title":"Client","description":"To be able to interact with the 1ClickConnect protocol as a dapp, you need to use a wallet client. All wallet SDKs provide a client to interact with the 1ClickConnect protocol. The main goal of the client is to encode/decode protocol messages to be sent to other dapps.","source":"@site/docs/sdks/wallet/javascript/client.md","sourceDirName":"sdks/wallet/javascript","slug":"/sdks/wallet/javascript/client","permalink":"/one-click-connect/docs/sdks/wallet/javascript/client","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/sdks/wallet/javascript/client.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"walletJavascriptSidebar","previous":{"title":"Installation","permalink":"/one-click-connect/docs/sdks/wallet/javascript/installation"},"next":{"title":"Errors","permalink":"/one-click-connect/docs/sdks/wallet/javascript/errors"}}');var i=n(7968),r=n(7334);const l={sidebar_position:3},o="Client",c={},a=[{value:"Configuration",id:"configuration",level:2},{value:"Methods",id:"methods",level:2},{value:"requestSignIn",id:"requestsignin",level:3},{value:"parseFullAccessKeyRequest",id:"parsefullaccesskeyrequest",level:3}];function d(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"client",children:"Client"})}),"\n",(0,i.jsx)(t.p,{children:"To be able to interact with the 1ClickConnect protocol as a dapp, you need to use a wallet client. All wallet SDKs provide a client to interact with the 1ClickConnect protocol. The main goal of the client is to encode/decode protocol messages to be sent to other dapps."}),"\n",(0,i.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsxs)(t.p,{children:["A ",(0,i.jsx)(t.code,{children:"WalletClient"})," requires the following properties in its configuration:"]}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Property"}),(0,i.jsx)(t.th,{children:"Description"}),(0,i.jsx)(t.th,{children:"Required"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"signingURL"})}),(0,i.jsx)(t.td,{children:"The URL in your wallet to sign transactions and requests."}),(0,i.jsx)(t.td,{children:"\u2705"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"relayerAPI"})}),(0,i.jsx)(t.td,{children:"Information of the relayer API. If provided, the wallet will use the relayer API."}),(0,i.jsx)(t.td,{children:"\u274c"})]})]})]}),"\n",(0,i.jsxs)(t.p,{children:["In your code, you can initialize the ",(0,i.jsx)(t.code,{children:"WalletClient"})," with the following configuration:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",children:'import { WalletClient } from "@one-click-connect/vanilla-wallet";\nconst client = new WalletClient({\n    signingURL: "https://my-wallet.com/signing", // Can be a web url or a deep link\n});\n'})}),"\n",(0,i.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,i.jsx)(t.h3,{id:"requestsignin",children:"requestSignIn"}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"requestSignIn"})," method is used to request a sign in from the wallet to a dapp. It is required to provide the ",(0,i.jsx)(t.code,{children:"accountID"})," of the account you want to sign in and the dapp URL entrypoint."]}),"\n",(0,i.jsxs)(t.p,{children:["Here's an example of how to use the ",(0,i.jsx)(t.code,{children:"requestSignIn"})," method:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",children:'const dappURL = "https://my-dapp.com";\n\nconst url = client.requestSignIn(accountID, dappURL);\n'})}),"\n",(0,i.jsx)(t.p,{children:"When redirecting the user to the generated URL, if the account has never signed in to the dapp, the dapp should request the wallet to sign the initial transaction to generate a KeyPair associated with the account. Otherwise, if the account has already signed in to the dapp, the account will be signed in to the dapp instantly."}),"\n",(0,i.jsx)(t.h3,{id:"parsefullaccesskeyrequest",children:"parseFullAccessKeyRequest"}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"parseFullAccessKeyRequest"})," method is used to parse a MsgSignFAK requested by the dapp. It is required to provide the URL of the dapp that requested the full access key."]}),"\n",(0,i.jsx)(t.p,{children:"If the url is valid, it will return the transaction the dapp requested the wallet to sign and the redirect URL to redirect the user to. Otherwise, it will throw an error."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",children:"const { transaction, redirectURL } = client.parseFullAccessKeyRequest(url);\n"})})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},7334:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>o});var s=n(4700);const i={},r=s.createContext(i);function l(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);