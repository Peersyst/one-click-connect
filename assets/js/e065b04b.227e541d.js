"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[355],{3252:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"guides/integrate_wallet","title":"Integrate the Wallet SDK","description":"This guide will walk you through the process of integrating the 1ClickConnect Wallet SDK into your own wallet project. Follow the steps below to get started.","source":"@site/docs/guides/integrate_wallet.md","sourceDirName":"guides","slug":"/guides/integrate_wallet","permalink":"/1-click-connect/docs/guides/integrate_wallet","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/guides/integrate_wallet.md","tags":[],"version":"current","frontMatter":{},"sidebar":"guidesSidebar","previous":{"title":"Integrate the DApp SDK","permalink":"/1-click-connect/docs/guides/integrate_dapp"}}');var s=t(7968),l=t(7334);const r={},a="Integrate the Wallet SDK",c={},o=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Instantiating a client",id:"instantiating-a-client",level:2},{value:"Client",id:"client",level:3},{value:"Request a sign in",id:"request-a-sign-in",level:2},{value:"Parse a sign initial tx request",id:"parse-a-sign-initial-tx-request",level:2},{value:"Parse a full access key signature request",id:"parse-a-full-access-key-signature-request",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"integrate-the-wallet-sdk",children:"Integrate the Wallet SDK"})}),"\n",(0,s.jsx)(n.p,{children:"This guide will walk you through the process of integrating the 1ClickConnect Wallet SDK into your own wallet project. Follow the steps below to get started."}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsx)(n.p,{children:"To be able to integrate the Wallet SDK, you will need to have installed a 1ClickConnect Wallet SDK. You can install one of the following SDKs:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/1-click-connect/docs/sdks/wallet/javascript/installation",children:"Javascript"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"instantiating-a-client",children:"Instantiating a client"}),"\n",(0,s.jsx)(n.p,{children:"The current version of the Wallet SDK contains a single client:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"WalletClient"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["You can find more information about the client in the ",(0,s.jsx)(n.a,{href:"/1-click-connect/docs/sdks/wallet/javascript/client",children:"SDK"})," section."]}),"\n",(0,s.jsx)(n.h3,{id:"client",children:"Client"}),"\n",(0,s.jsxs)(n.p,{children:["To create a new ",(0,s.jsx)(n.code,{children:"WalletClient"})," instance, you must provide a ",(0,s.jsx)(n.code,{children:"WalletClientConfig"})," object with the following properties:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"signingURL"}),": The URL of the page that will be redirected to after the user has connected their wallet."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"relayerAPI"})," (optional): An object containing information about the relayer API."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Your code should look like this:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'const client = new WalletClient({\n    signingURL: "<YOUR_SIGNING_URL>",\n    relayerAPI: {\n        url: "<YOUR_RELAYER_API_URL>",\n    }, // Optional\n});\n'})}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"signingURL"})," is required and must be the same URL where you will be handling all dapps requests."]})}),"\n",(0,s.jsx)(n.h2,{id:"request-a-sign-in",children:"Request a sign in"}),"\n",(0,s.jsx)(n.p,{children:"Now that you have an instance of the client, you can start requesting to sign in a user in a dapp."}),"\n",(0,s.jsx)(n.p,{children:"To request a sign in, you can use the following code:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'// Previously, you had instantiated the client like this:\nconst client = new WalletClient({\n    signingURL: "<YOUR_SIGNING_URL>",\n});\n\n// Now, you can request a sign in like this:\nconst requestURL = await client.requestSignIn(accountID, dappURL);\n\n// Redirect the user to the signing URL\n'})}),"\n",(0,s.jsx)(n.h2,{id:"parse-a-sign-initial-tx-request",children:"Parse a sign initial tx request"}),"\n",(0,s.jsxs)(n.p,{children:["When a dapp requests you to sign a SignInitialTx, you will receive the request in the ",(0,s.jsx)(n.code,{children:"signingURL"})," you provided in the ",(0,s.jsx)(n.code,{children:"WalletClientConfig"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"To parse the request, you can use the following code:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const { permissions, redirectURL, publicKey } = client.parseSignInitialTxRequest(requestURL);\n"})}),"\n",(0,s.jsx)(n.p,{children:"This will return an object with the following properties:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"permissions"}),": The permissions that the dapp is requesting (FunctionCallPermission)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"redirectURL"}),": The URL to redirect the user to after the transaction is signed."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"publicKey"}),": The public key of the user."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["From this point, you can use the ",(0,s.jsx)(n.code,{children:"permissions"})," and ",(0,s.jsx)(n.code,{children:"publicKey"})," to sign and send a transaction with an ",(0,s.jsx)(n.code,{children:"AddKey"})," action. Once the transaction is sent, you can redirect the user to the ",(0,s.jsx)(n.code,{children:"redirectURL"})," provided in the request."]}),"\n",(0,s.jsx)(n.h2,{id:"parse-a-full-access-key-signature-request",children:"Parse a full access key signature request"}),"\n",(0,s.jsx)(n.p,{children:"A dapp can also request you to sign a transaction with your full access key. This is useful when you don't have enough permissions to perform the action you want."}),"\n",(0,s.jsx)(n.p,{children:"To parse the request, you can use the following code:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const { transaction, redirectURL } = client.parseFullAccessKeyRequest(requestURL);\n"})}),"\n",(0,s.jsx)(n.p,{children:"This will return an object with the following properties:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"transaction"}),": The transaction to sign."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"redirectURL"}),": The URL to redirect the user to after the transaction is signed."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Once you have the transaction, you can sign it and send it to the network. Once the transaction is sent, you can redirect the user to the ",(0,s.jsx)(n.code,{children:"redirectURL"})," provided in the request."]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},7334:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var i=t(4700);const s={},l=i.createContext(s);function r(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);